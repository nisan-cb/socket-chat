{"version":3,"sources":["components/Join.js","components/InfoBar.js","icons/onlineIcon.png","icons/closeIcon.png","components/Input.js","components/Message.js","components/MessagesBox.js","components/Chat.js","App.js","index.js"],"names":["Join","useState","name","setName","room","setRoom","msg","setMsg","submitHandler","e","preventDefault","className","type","placeholder","onChange","target","value","onKeyPress","key","onClick","to","InfoBar","src","alt","href","Input","message","setMessage","sendHandler","Message","user","text","isSentByCurrentUser","trimmedName","trim","toLowerCase","ReactEmoji","emojify","MessagesBox","socket","messages","console","log","map","i","Chat","location","setMessages","ENDPOINT","useEffect","queryString","parse","search","io","emit","error","alert","off","on","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fae8787b.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport '../style/Join.css';\r\n\r\nfunction Join() {\r\n    const [name, setName] = useState('');\r\n    const [room, setRoom] = useState('');\r\n    const [msg,setMsg] = useState('');\r\n\r\n    function submitHandler(e){\r\n        if(!name || !room){\r\n            e.preventDefault();\r\n            setMsg('fill all the fileds.');\r\n        }else{\r\n            setMsg('');\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"join-container\">\r\n            <div className=\"inner-container\"> \r\n            <h1>Join</h1>\r\n            <span>{msg}</span>\r\n            <input \r\n                className=\"join-input mt-20\" \r\n                type=\"text\"\r\n                placeholder=\"Nickname\" \r\n                onChange={(e)=>{setName(e.target.value)}} \r\n                value={name}\r\n            />\r\n            <input \r\n                className=\"join-input mt-20\" \r\n                placeholder=\"Room\" \r\n                onChange={(e)=>{setRoom(e.target.value)}} \r\n                value={room}\r\n                onKeyPress={e=> e.key==='Enter'? submitHandler(e) : null}\r\n                \r\n            />\r\n            <Link onClick={submitHandler} to={`/chat?name=${name}&room=${room}`}>\r\n                <button className=\"button mt-20\" type=\"submit\"\r\n                \r\n                >Sign in</button>\r\n            </Link>\r\n            \r\n            </div>\r\n            <p className=\"note\"> \r\n               \r\n                יש לשים לב לבחור שם חדר זהה עם אותם משתמשים שאיתם תרצה להתכתב                \r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Join;","import React from 'react';\r\nimport '../style/InfoBar.css';\r\nimport onlineIcon  from '../icons/onlineIcon.png'\r\nimport closeIcon  from '../icons/closeIcon.png'\r\n\r\nfunction InfoBar({room}){\r\n\r\n    return(\r\n        <div className=\"infoBar\">\r\n            <div className=\"leftContainer\">\r\n                <img className=\"onlineIcon\" src={onlineIcon} alt=\"online\" />\r\n                <h3>{room}</h3>\r\n            </div>\r\n\r\n            <div className=\"rightContainer\">   \r\n                <a href=\"/\" ><img src={closeIcon} alt=\"close\"/></a>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default InfoBar;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\"","import React from 'react';\r\nimport '../style/Input.css';\r\n\r\nfunction Input ({message,setMessage,sendHandler}){\r\n\r\n    return (\r\n\r\n        <form className=\"form\">\r\n            <input \r\n                className=\"input\"\r\n                type=\"text\"\r\n                placeholder=\"Tyoe a message...\"\r\n                value={message}\r\n                onChange={e=>setMessage(e.target.value)}\r\n                onKeyPress={e=> e.key==='Enter'? sendHandler(e): null}\r\n            />\r\n            <button \r\n                className=\"sendBtn\"\r\n                onClick={e=>sendHandler(e)}\r\n            >Send</button>\r\n\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Input;","import React from 'react';\r\nimport '../style/Message.css';\r\nimport ReactEmoji from 'react-emoji';\r\n\r\nfunction Message({message:{user,text}, name}){\r\n\r\n    let isSentByCurrentUser = false;\r\n    const trimmedName = name.trim().toLowerCase();\r\n\r\n    if(user === trimmedName){\r\n        isSentByCurrentUser = true;\r\n    }\r\n    return(\r\n        isSentByCurrentUser\r\n        ?(\r\n            <div className=\"messageContainer justifyEnd\">\r\n                <p className=\"sentText pr-10\">{trimmedName}</p>\r\n                <div className=\"messageBox backroundBlue\">\r\n                    <p className=\"messageText colorWithe\">{ReactEmoji.emojify(text) }</p>\r\n                </div>\r\n            </div>\r\n        )\r\n        :(\r\n            <div className=\"messageContainer justifyStart\">\r\n                <div className=\"messageBox backroundLight\">\r\n                    <p className=\"messageText colorDark\">{ReactEmoji.emojify(text) }</p>\r\n                </div>\r\n                <p className=\"sentText pl-10\">{user}</p>\r\n            </div>\r\n        )\r\n        \r\n    );\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nimport Message from './Message';\r\nimport '../style/MessageBox.css'\r\n\r\nfunction MessagesBox({messages, name}){\r\n    // console.log(messages)\r\n\r\n    return(\r\n        \r\n        <ScrollToBottom className=\"scrollBox\">\r\n    \r\n            {console.log(\"hi\")}\r\n            {messages.map((message, i)=>{\r\n                // console.log(message);\r\n               return(\r\n                <div key={i}>\r\n                <Message message={message} name={name}></Message>\r\n                 </div>\r\n\r\n               )\r\n            })}\r\n\r\n        </ScrollToBottom>\r\n        \r\n    );\r\n}\r\n\r\nexport default MessagesBox;","import React, { useEffect, useState } from 'react';\r\nimport queryString from'query-string';\r\nimport io from 'socket.io-client';\r\n\r\nimport '../style/Chat.css';\r\nimport InfoBar from './InfoBar';\r\nimport Input from './Input';\r\nimport MessagesBox from './MessagesBox';\r\n\r\nlet socket;\r\n\r\nfunction Chat({location}) {\r\n    const [name,setName] = useState('');\r\n    const [room,setRoom] = useState('');\r\n    const [message,setMessage] = useState('');\r\n    const [messages,setMessages] = useState([]);\r\n    const ENDPOINT = 'https://react-socket-web-chat.herokuapp.com/';\r\n\r\n    useEffect(()=>{\r\n        const {name,room} = queryString.parse(location.search);\r\n        socket = io(ENDPOINT);\r\n\r\n        setName(name);\r\n        setRoom(room);\r\n        socket.emit('join',{name,room}, (error)=>{\r\n            if(error)\r\n                alert(error)\r\n        } );\r\n        return ()=>{\r\n            socket.emit('disconnect');\r\n            socket.off();\r\n        }\r\n    },[ENDPOINT,location.search]);\r\n\r\n    useEffect(()=>{\r\n        socket.on('message',(message)=>{\r\n            setMessages(messages=> [...messages,message]);\r\n            // setMessages(messages.push(message));\r\n        })\r\n\r\n\r\n    },[]);\r\n\r\n    const sendHandler = (e)=>{\r\n        console.log('sending..');\r\n        e.preventDefault();\r\n        if(message){\r\n            socket.emit('sendMessage',message,()=>{\r\n                setMessage('');\r\n            });\r\n        }\r\n    }\r\n\r\n    // console.log(message,messages);\r\n\r\n    return(\r\n        <div className=\"cahtContainer\">\r\n            <div className=\"innerContainer\">\r\n                <InfoBar room={room} />\r\n                <MessagesBox messages={messages} name={name}/>\r\n                <Input message={message} setMessage={setMessage} sendHandler={sendHandler} />\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Chat;","import React from 'react';\r\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\r\n\r\nimport Join from './components/Join';\r\nimport Chat from './components/Chat';\r\n\r\n\r\nfunction App(){\r\n\r\n    return(\r\n        <Router>\r\n            <Route path=\"/\" exact component={Join} />\r\n            <Route path=\"/chat\"  component={Chat} />\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './style.css';\r\nimport App from './App.js';\r\n\r\nReactDOM.render(<App />,document.getElementById('root') );\r\n"],"sourceRoot":""}